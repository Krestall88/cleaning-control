Цель
Разработать современную, масштабируемую и простую в использовании систему контроля и управления для клининговой компании, согласно техническому заданию.

1. Общие требования

• Система должна быть веб-приложением с доступом через браузер.
• Дизайн: максимально простой, интуитивный, без лишних элементов, с акцентом на удобство для менеджеров и руководителей.
• Все сложные процессы должны выполняться автоматически системой, минимизируя ручной ввод.
• Код должен соответствовать требованиям Vercel (SSR, правильная структура Next.js, отсутствие неподдерживаемых модулей).
• Система должна быть лёгкой в масштабировании и расширяемой (добавление новых модулей без переписывания ядра).

2. Технический стек

Frontend:
• Next.js (React, TypeScript) – для SSR и удобного деплоя на Vercel.
• Tailwind CSS – для адаптивного и современного UI.
• shadcn/ui – для готовых UI-компонентов.
• Framer Motion – для плавной анимации.
• Recharts – для аналитики и графиков.

Backend:
• Next.js API Routes или NestJS (при необходимости микросервисов).
• Node.js – серверная логика.
• n8n (опционально) – для автоматизаций и интеграций (email, мессенджеры).

База данных:
• Timeweb Cloud Database – основная СУБД.
• ORM: Prisma (с адаптацией под Timeweb).

Хостинг и инфраструктура:
• Frontend + Backend → Vercel.
• База данных → Timeweb Cloud Database (подключение через Prisma).
• Файлы (фото, документы) → Timeweb Cloud Object Storage (s3-совместимое хранилище).

3. Архитектура

• Модульная структура: каждый функциональный блок реализован как отдельный модуль.
• Единый API слой – для фронтенда и мобильных интеграций.
• Авторизация и роли – через JWT + RBAC (Role-Based Access Control).

4. Интерфейс и UX

• Руководитель – доступ ко всем модулям.
• Заместитель – только свои объекты и менеджеры.
• Менеджер объекта – управление объектами, задачами, заявками, фотоотчётами, инвентарём.
• Уборщик – нет прямого доступа (контроль через менеджера).
• Заказчик (опционально) – форма заявок + просмотр статуса.

Главные принципы UX:
• Все действия — в 1–2 клика.
• Основной экран менеджера → чек-лист на день + уведомления.
• Фото и документы загружаются перетаскиванием (drag & drop) или камерой.
• Уведомления выводятся в реальном времени.

5. Модули

5.1. Объекты и техкарты
• Создание объектов (адрес, тип помещения, контакты).
• Назначение менеджера.
• Загрузка документов (регламенты, график уборок).
• Автогенерация чек-листов по типу и частоте работ.

5.2. Работа по объекту
• Менеджер открывает чек-лист на день.
• Отмечает выполненные задачи.
• Добавляет заявки вручную или из системы.
• Прикрепляет фото.
• Всё фиксируется с датой и автором.

5.3. Заявки от заказчика
• Интеграция почты / мессенджеров (через n8n).
• Автоматическое создание задач.
• Возможность подачи заявки через форму.

5.4. Инвентарь и химия
• Учёт закупок (название, количество, сумма, фото чека).
• Выдача средств уборщикам.
• Руководитель видит аналитику по расходам.

5.5. Фотоотчёты
• Фото прикрепляются к объектам, чек-листам или заявкам.
• Возможность добавления комментариев.
• Фильтрация по объектам, датам, менеджерам.

5.6. Аналитика и отчёты
• По объектам: выполнение задач, заявки, расходы.
• По менеджерам: скорость, дисциплина, перерасход.
• Визуализация (графики, диаграммы).

5.7. Уведомления
• Менеджер: напоминания, новые заявки.
• Руководитель: просрочки, инциденты.

5.8. История действий
• Лог всех действий (создание, обновление, удаление).
• Кто загрузил фото, кто отметил задачу.
• Используется для разрешения конфликтов.

6. Безопасность

• Авторизация через JWT.
• Шифрование паролей (bcrypt).
• Защита API маршрутов по ролям.
• Доступ к файлам только авторизованным пользователям.

7. Деплой и DevOps

• Код → GitHub → Vercel (CI/CD).
• Подключение к Timeweb Cloud Database через Prisma.
• Медиафайлы → Timeweb Cloud Object Storage.
• Возможность масштабирования модулей через микросервисы.