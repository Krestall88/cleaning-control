# üèóÔ∏è –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –æ–±—ä–µ–∫—Ç–æ–≤

## –û–±–∑–æ—Ä

–°–æ–∑–¥–∞–Ω–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –æ–±—ä–µ–∫—Ç–æ–≤ —É–±–æ—Ä–∫–∏ —Å –º–æ–¥–∞–ª—å–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏.

## üéØ –ò–µ—Ä–∞—Ä—Ö–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```
CleaningObject (–û–±—ä–µ–∫—Ç)
  ‚îî‚îÄ‚îÄ Site (–£—á–∞—Å—Ç–æ–∫)
        ‚îî‚îÄ‚îÄ Zone (–ó–æ–Ω–∞)
              ‚îî‚îÄ‚îÄ RoomGroup (–ì—Ä—É–ø–ø–∞ –ø–æ–º–µ—â–µ–Ω–∏–π)
                    ‚îî‚îÄ‚îÄ Room (–ü–æ–º–µ—â–µ–Ω–∏–µ)
                          ‚îî‚îÄ‚îÄ CleaningObjectItem (–û–±—ä–µ–∫—Ç —É–±–æ—Ä–∫–∏)
```

## üìã –ü–æ–ª—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è

### 1. **Site** (–£—á–∞—Å—Ç–æ–∫)
- ‚úÖ **name** - –ù–∞–∑–≤–∞–Ω–∏–µ *
- ‚úÖ **description** - –û–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ **area** - –ü–ª–æ—â–∞–¥—å (–º¬≤)
- ‚úÖ **comment** - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- ‚úÖ **managerId** - –ú–µ–Ω–µ–¥–∂–µ—Ä —É—á–∞—Å—Ç–∫–∞

### 2. **Zone** (–ó–æ–Ω–∞)
- ‚úÖ **name** - –ù–∞–∑–≤–∞–Ω–∏–µ *
- ‚úÖ **description** - –û–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ **area** - –ü–ª–æ—â–∞–¥—å (–º¬≤)

### 3. **RoomGroup** (–ì—Ä—É–ø–ø–∞ –ø–æ–º–µ—â–µ–Ω–∏–π)
- ‚úÖ **name** - –ù–∞–∑–≤–∞–Ω–∏–µ *
- ‚úÖ **description** - –û–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ **area** - –ü–ª–æ—â–∞–¥—å (–º¬≤)

### 4. **Room** (–ü–æ–º–µ—â–µ–Ω–∏–µ)
- ‚úÖ **name** - –ù–∞–∑–≤–∞–Ω–∏–µ *
- ‚úÖ **description** - –û–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ **area** - –ü–ª–æ—â–∞–¥—å (–º¬≤)

### 5. **CleaningObjectItem** (–û–±—ä–µ–∫—Ç —É–±–æ—Ä–∫–∏)
- ‚úÖ **name** - –ù–∞–∑–≤–∞–Ω–∏–µ *
- ‚úÖ **description** - –û–ø–∏—Å–∞–Ω–∏–µ

\* - –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ

## üé® –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### `StructureItemModal`
–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

**Props:**
```typescript
{
  isOpen: boolean;              // –û—Ç–∫—Ä—ã—Ç–æ –ª–∏ –æ–∫–Ω–æ
  onClose: () => void;          // –ó–∞–∫—Ä—ã—Ç—å –æ–∫–Ω–æ
  type: StructureType;          // –¢–∏–ø —ç–ª–µ–º–µ–Ω—Ç–∞
  item: StructureItem | null;   // null = —Å–æ–∑–¥–∞–Ω–∏–µ, –Ω–µ null = —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
  parentId: string;             // ID —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞
  objectId: string;             // ID –æ–±—ä–µ–∫—Ç–∞
  managers?: Manager[];         // –°–ø–∏—Å–æ–∫ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ (–¥–ª—è —É—á–∞—Å—Ç–∫–æ–≤)
  onSave: () => void;           // Callback –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
}
```

**–¢–∏–ø—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤:**
- `'site'` - –£—á–∞—Å—Ç–æ–∫
- `'zone'` - –ó–æ–Ω–∞
- `'roomGroup'` - –ì—Ä—É–ø–ø–∞ –ø–æ–º–µ—â–µ–Ω–∏–π
- `'room'` - –ü–æ–º–µ—â–µ–Ω–∏–µ
- `'cleaningObjectItem'` - –û–±—ä–µ–∫—Ç —É–±–æ—Ä–∫–∏

## üîå API Endpoints

### Sites (–£—á–∞—Å—Ç–∫–∏)
- `POST /api/sites` - –°–æ–∑–¥–∞—Ç—å —É—á–∞—Å—Ç–æ–∫
- `PATCH /api/sites/[id]` - –û–±–Ω–æ–≤–∏—Ç—å —É—á–∞—Å—Ç–æ–∫
- `DELETE /api/sites/[id]` - –£–¥–∞–ª–∏—Ç—å —É—á–∞—Å—Ç–æ–∫

### Zones (–ó–æ–Ω—ã)
- `POST /api/zones` - –°–æ–∑–¥–∞—Ç—å –∑–æ–Ω—É
- `PATCH /api/zones/[id]` - –û–±–Ω–æ–≤–∏—Ç—å –∑–æ–Ω—É
- `DELETE /api/zones/[id]` - –£–¥–∞–ª–∏—Ç—å –∑–æ–Ω—É

### Room Groups (–ì—Ä—É–ø–ø—ã –ø–æ–º–µ—â–µ–Ω–∏–π)
- `POST /api/room-groups` - –°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É
- `PATCH /api/room-groups/[id]` - –û–±–Ω–æ–≤–∏—Ç—å –≥—Ä—É–ø–ø—É
- `DELETE /api/room-groups/[id]` - –£–¥–∞–ª–∏—Ç—å –≥—Ä—É–ø–ø—É

### Rooms (–ü–æ–º–µ—â–µ–Ω–∏—è)
- `POST /api/rooms` - –°–æ–∑–¥–∞—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ
- `PATCH /api/rooms/[id]` - –û–±–Ω–æ–≤–∏—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ
- `DELETE /api/rooms/[id]` - –£–¥–∞–ª–∏—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ

### Cleaning Object Items (–û–±—ä–µ–∫—Ç—ã —É–±–æ—Ä–∫–∏)
- `POST /api/cleaning-object-items` - –°–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç —É–±–æ—Ä–∫–∏
- `PATCH /api/cleaning-object-items/[id]` - –û–±–Ω–æ–≤–∏—Ç—å –æ–±—ä–µ–∫—Ç —É–±–æ—Ä–∫–∏
- `DELETE /api/cleaning-object-items/[id]` - –£–¥–∞–ª–∏—Ç—å –æ–±—ä–µ–∫—Ç —É–±–æ—Ä–∫–∏

## üí° –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞

```typescript
import StructureItemModal from '@/components/StructureItemModal';

const [showModal, setShowModal] = useState(false);

<StructureItemModal
  isOpen={showModal}
  onClose={() => setShowModal(false)}
  type="zone"                    // –¢–∏–ø —ç–ª–µ–º–µ–Ω—Ç–∞
  item={null}                    // null = —Å–æ–∑–¥–∞–Ω–∏–µ
  parentId={siteId}              // ID —É—á–∞—Å—Ç–∫–∞
  objectId={objectId}            // ID –æ–±—ä–µ–∫—Ç–∞
  onSave={() => {
    loadData();                  // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
    setShowModal(false);
  }}
/>
```

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞

```typescript
const [editingItem, setEditingItem] = useState(null);

<StructureItemModal
  isOpen={!!editingItem}
  onClose={() => setEditingItem(null)}
  type="zone"
  item={editingItem}             // –î–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç–∞
  parentId={siteId}
  objectId={objectId}
  onSave={() => {
    loadData();
    setEditingItem(null);
  }}
/>
```

## üéØ –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã

### 1. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å**
- –û–¥–Ω–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–ª–µ–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
- –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 2. **–ì–∏–±–∫–æ—Å—Ç—å**
- –ö–ª–∏–µ–Ω—Ç –∑–∞–ø–æ–ª–Ω—è–µ—Ç —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è
- –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º–∏
- –°–∏—Å—Ç–µ–º–∞ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### 3. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ**
- –ò–µ—Ä–∞—Ä—Ö–∏—è —Å—Ç—Ä–æ–∏—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ï—Å–ª–∏ –ø–æ–ª–µ –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ, —É—Ä–æ–≤–µ–Ω—å –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–µ—Ä–µ–≤–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (—Ç–æ–ª—å–∫–æ –ø–æ–º–µ—â–µ–Ω–∏—è)
```
–û–±—ä–µ–∫—Ç
  ‚îî‚îÄ‚îÄ –ü–æ–º–µ—â–µ–Ω–∏–µ 1
  ‚îî‚îÄ‚îÄ –ü–æ–º–µ—â–µ–Ω–∏–µ 2
```

### –°—Ä–µ–¥–Ω—è—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (—É—á–∞—Å—Ç–∫–∏ –∏ –ø–æ–º–µ—â–µ–Ω–∏—è)
```
–û–±—ä–µ–∫—Ç
  ‚îî‚îÄ‚îÄ –£—á–∞—Å—Ç–æ–∫ 1
        ‚îî‚îÄ‚îÄ –ü–æ–º–µ—â–µ–Ω–∏–µ 1
        ‚îî‚îÄ‚îÄ –ü–æ–º–µ—â–µ–Ω–∏–µ 2
  ‚îî‚îÄ‚îÄ –£—á–∞—Å—Ç–æ–∫ 2
        ‚îî‚îÄ‚îÄ –ü–æ–º–µ—â–µ–Ω–∏–µ 3
```

### –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–≤—Å–µ —É—Ä–æ–≤–Ω–∏)
```
–û–±—ä–µ–∫—Ç
  ‚îî‚îÄ‚îÄ –£—á–∞—Å—Ç–æ–∫ 1
        ‚îî‚îÄ‚îÄ –ó–æ–Ω–∞ –ê
              ‚îî‚îÄ‚îÄ –ì—Ä—É–ø–ø–∞ 1
                    ‚îî‚îÄ‚îÄ –ü–æ–º–µ—â–µ–Ω–∏–µ 101
                          ‚îî‚îÄ‚îÄ –ü–æ–ª
                          ‚îî‚îÄ‚îÄ –û–∫–Ω–∞
                    ‚îî‚îÄ‚îÄ –ü–æ–º–µ—â–µ–Ω–∏–µ 102
              ‚îî‚îÄ‚îÄ –ì—Ä—É–ø–ø–∞ 2
                    ‚îî‚îÄ‚îÄ –ü–æ–º–µ—â–µ–Ω–∏–µ 201
        ‚îî‚îÄ‚îÄ –ó–æ–Ω–∞ –ë
              ‚îî‚îÄ‚îÄ –ü–æ–º–µ—â–µ–Ω–∏–µ 301
```

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å** - –æ–¥–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –≤—Å–µ—Ö —É—Ä–æ–≤–Ω–µ–π
2. **–ì–∏–±–∫–æ—Å—Ç—å** - –∑–∞–ø–æ–ª–Ω—è–π—Ç–µ —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è
3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —É—Ä–æ–≤–Ω–∏
4. **–£–¥–æ–±—Å—Ç–≤–æ** - –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –≤–º–µ—Å—Ç–æ prompt
5. **–í–∞–ª–∏–¥–∞—Ü–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
6. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å** - –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `ObjectEditModal`
2. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–µ—Ä–∞—Ä—Ö–∏–∏
3. Drag & drop –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
4. –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
5. –ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
