# üìã –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–∏–º–∏—Ç–æ–≤ –¥–ª—è –æ–¥–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

## üéØ –ó–∞–¥–∞—á–∞

**–ü—Ä–∏–º–µ—Ä:** –ü–æ –æ–±—ä–µ–∫—Ç—É "–û—Ñ–∏—Å –ê" –µ—Å—Ç—å:
1. –õ–∏–º–∏—Ç –ø–æ —Ö–∏–º–∏–∏ –Ω–∞ **–µ–∂–µ–¥–Ω–µ–≤–Ω—É—é –∑–∞–∫—É–ø–∫—É** - 1000‚ÇΩ/–¥–µ–Ω—å
2. –õ–∏–º–∏—Ç –ø–æ —Ö–∏–º–∏–∏ –Ω–∞ **–≥–µ–Ω–µ—Ä–∞–ª—å–Ω—É—é —É–±–æ—Ä–∫—É** (1 —Ä–∞–∑ –≤ 6 –º–µ—Å) - 15000‚ÇΩ

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–∏–º–∏—Ç–æ–≤** –¥–ª—è –æ–¥–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –ø–µ—Ä–∏–æ–¥–æ–≤!

### –¢–∏–ø—ã –ø–µ—Ä–∏–æ–¥–æ–≤:
- **DAILY** - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –ª–∏–º–∏—Ç
- **MONTHLY** - –ï–∂–µ–º–µ—Å—è—á–Ω—ã–π –ª–∏–º–∏—Ç
- **SEMI_ANNUAL** - –†–∞–∑ –≤ 6 –º–µ—Å—è—Ü–µ–≤
- **ANNUAL** - –ì–æ–¥–æ–≤–æ–π –ª–∏–º–∏—Ç

## üìù –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å (—á–µ—Ä–µ–∑ UI)

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–õ–∏–º–∏—Ç" (—Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:** –°–µ–π—á–∞—Å –≤ UI –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ MONTHLY –ª–∏–º–∏—Ç—ã.

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –ø–µ—Ä–∏–æ–¥–æ–≤ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API –Ω–∞–ø—Ä—è–º—É—é –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å UI.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ API (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤)

#### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –ª–∏–º–∏—Ç –Ω–∞ —Ö–∏–º–∏—é

```bash
POST /api/objects/{objectId}/expense-limits
Content-Type: application/json

{
  "categoryId": "cat_chemistry_id",
  "amount": 1000,
  "periodType": "DAILY",
  "isRecurring": true
}
```

#### –®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—É–≥–æ–¥–æ–≤–æ–π –ª–∏–º–∏—Ç –Ω–∞ —Ö–∏–º–∏—é (–≥–µ–Ω—É–±–æ—Ä–∫–∞)

```bash
POST /api/objects/{objectId}/expense-limits
Content-Type: application/json

{
  "categoryId": "cat_chemistry_id",
  "amount": 15000,
  "periodType": "SEMI_ANNUAL",
  "startDate": "2025-01-01",
  "endDate": "2025-06-30"
}
```

#### –®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å –≤—Ç–æ—Ä–æ–π –ø–æ–ª—É–≥–æ–¥–æ–≤–æ–π –ª–∏–º–∏—Ç (–∏—é–ª—å-–¥–µ–∫–∞–±—Ä—å)

```bash
POST /api/objects/{objectId}/expense-limits
Content-Type: application/json

{
  "categoryId": "cat_chemistry_id",
  "amount": 15000,
  "periodType": "SEMI_ANNUAL",
  "startDate": "2025-07-01",
  "endDate": "2025-12-31"
}
```

## üîç –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ä–∞—Å—Ö–æ–¥–∞ –Ω–∞ —Ö–∏–º–∏—é:

1. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç **–≤—Å–µ –ª–∏–º–∏—Ç—ã** –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "–•–∏–º–∏—è"
2. –î–ª—è DAILY –ª–∏–º–∏—Ç–∞: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É–º–º—É —Ä–∞—Å—Ö–æ–¥–æ–≤ –∑–∞ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å
3. –î–ª—è SEMI_ANNUAL –ª–∏–º–∏—Ç–∞: –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É–º–º—É —Ä–∞—Å—Ö–æ–¥–æ–≤ –∑–∞ –ø–µ—Ä–∏–æ–¥ (01.01-30.06 –∏–ª–∏ 01.07-31.12)
4. –ï—Å–ª–∏ **–ª—é–±–æ–π** –ª–∏–º–∏—Ç –ø—Ä–µ–≤—ã—à–µ–Ω ‚Üí –æ—à–∏–±–∫–∞
5. –ï—Å–ª–∏ **–ª—é–±–æ–π** –ª–∏–º–∏—Ç >90% ‚Üí –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ

### –ü—Ä–∏–º–µ—Ä:

**–î–∞—Ç–∞:** 15 –Ω–æ—è–±—Ä—è 2025
**–†–∞—Å—Ö–æ–¥:** 500‚ÇΩ –Ω–∞ —Ö–∏–º–∏—é

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
1. ‚úÖ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –ª–∏–º–∏—Ç: –ø–æ—Ç—Ä–∞—á–µ–Ω–æ —Å–µ–≥–æ–¥–Ω—è 800‚ÇΩ + 500‚ÇΩ = 1300‚ÇΩ > 1000‚ÇΩ ‚Üí **–û–®–ò–ë–ö–ê**
2. ‚úÖ –ü–æ–ª—É–≥–æ–¥–æ–≤–æ–π –ª–∏–º–∏—Ç: –ø–æ—Ç—Ä–∞—á–µ–Ω–æ —Å 01.07 –ø–æ 15.11 = 12000‚ÇΩ + 500‚ÇΩ = 12500‚ÇΩ < 15000‚ÇΩ ‚Üí **–û–ö**

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –†–∞—Å—Ö–æ–¥ **–Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω**, —Ç–∞–∫ –∫–∞–∫ –ø—Ä–µ–≤—ã—à–µ–Ω –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –ª–∏–º–∏—Ç.

## üé® –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Ä–∞–∑–Ω—ã—Ö –ø–µ—Ä–∏–æ–¥–æ–≤

### –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–õ–∏–º–∏—Ç":

```tsx
// –î–æ–±–∞–≤–∏—Ç—å –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –ø–µ—Ä–∏–æ–¥–∞
<div>
  <label>–¢–∏–ø –ø–µ—Ä–∏–æ–¥–∞ *</label>
  <Select value={periodType} onValueChange={setPeriodType}>
    <SelectTrigger>
      <SelectValue placeholder="–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø–µ—Ä–∏–æ–¥–∞" />
    </SelectTrigger>
    <SelectContent>
      <SelectItem value="DAILY">–ï–∂–µ–¥–Ω–µ–≤–Ω–æ</SelectItem>
      <SelectItem value="MONTHLY">–ï–∂–µ–º–µ—Å—è—á–Ω–æ</SelectItem>
      <SelectItem value="SEMI_ANNUAL">–†–∞–∑ –≤ 6 –º–µ—Å—è—Ü–µ–≤</SelectItem>
      <SelectItem value="ANNUAL">–ì–æ–¥–æ–≤–æ–π</SelectItem>
    </SelectContent>
  </Select>
</div>

// –î–ª—è MONTHLY - –ø–æ–∫–∞–∑–∞—Ç—å –º–µ—Å—è—Ü/–≥–æ–¥
{periodType === 'MONTHLY' && (
  <>
    <Select value={month} onValueChange={setMonth}>
      <SelectItem value="1">–Ø–Ω–≤–∞—Ä—å</SelectItem>
      {/* ... */}
    </Select>
    <Input type="number" value={year} onChange={setYear} />
  </>
)}

// –î–ª—è SEMI_ANNUAL/ANNUAL - –ø–æ–∫–∞–∑–∞—Ç—å –¥–∞—Ç—ã
{(periodType === 'SEMI_ANNUAL' || periodType === 'ANNUAL') && (
  <>
    <Input type="date" value={startDate} onChange={setStartDate} />
    <Input type="date" value={endDate} onChange={setEndDate} />
  </>
)}
```

## üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–∏–º–∏—Ç–æ–≤ –≤ UI

### –í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ "–ü–æ–¥—Ä–æ–±–Ω–æ" ‚Üí –≤–∫–ª–∞–¥–∫–∞ "–ü–æ —Å—Ç–∞—Ç—å—è–º":

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—á–∏—Ç—ã–≤–∞–µ—Ç **–≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã** –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –û–±—â—É—é —Å—É–º–º—É –ª–∏–º–∏—Ç–æ–≤
- –û–±—â—É—é —Å—É–º–º—É —Ä–∞—Å—Ö–æ–¥–æ–≤
- –ü—Ä–æ—Ü–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä –¥–ª—è —Ö–∏–º–∏–∏:**
```
–•–∏–º–∏—è,–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å,—Ä–∞—Å—Ö–æ–¥–Ω–∏–∫–∏
–ü–æ—Ç—Ä–∞—á–µ–Ω–æ: 13,500‚ÇΩ
–õ–∏–º–∏—Ç—ã: 
  - –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π: 1,000‚ÇΩ/–¥–µ–Ω—å
  - –ü–æ–ª—É–≥–æ–¥–æ–≤–æ–π: 15,000‚ÇΩ (01.07-31.12)
–û—Å—Ç–∞—Ç–æ–∫: 1,500‚ÇΩ
[‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë] 90% ‚ö†Ô∏è
```

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤:
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ UI –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–µ—Å—è—á–Ω—ã—Ö –ª–∏–º–∏—Ç–æ–≤
- –û–¥–∏–Ω –ª–∏–º–∏—Ç –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—é

### –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ (–∫–∞–∫ —Ö–∏–º–∏—è):
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–µ—Ä–∏–æ–¥–∞–º–∏
- –°–æ–∑–¥–∞–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π –∞–¥–º–∏–Ω-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞–º–∏
- –ò–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—É—â–µ–µ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–õ–∏–º–∏—Ç" –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –ø–µ—Ä–∏–æ–¥–æ–≤

## üîß –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–≤—Ä–µ–º–µ–Ω–Ω–æ–µ)

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å—Ä–æ—á–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–∏–º–∏—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–µ—Ä–∏–æ–¥–∞–º–∏:

1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Postman –∏–ª–∏ curl –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ —á–µ—Ä–µ–∑ API
2. –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π —Å–∫—Ä–∏–ø—Ç:

```typescript
// scripts/create-chemistry-limits.ts
import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

async function main() {
  const objectId = 'YOUR_OBJECT_ID';
  const categoryId = 'YOUR_CATEGORY_ID'; // ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ "–•–∏–º–∏—è,–∏–Ω–≤–µ–Ω—Ç–∞—Ä—å,—Ä–∞—Å—Ö–æ–¥–Ω–∏–∫–∏"

  // –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –ª–∏–º–∏—Ç
  await prisma.expenseCategoryLimit.create({
    data: {
      objectId,
      categoryId,
      amount: 1000,
      periodType: 'DAILY',
      isRecurring: true,
      setById: 'YOUR_ADMIN_ID'
    }
  });

  // –ü–æ–ª—É–≥–æ–¥–æ–≤–æ–π –ª–∏–º–∏—Ç (—è–Ω–≤–∞—Ä—å-–∏—é–Ω—å)
  await prisma.expenseCategoryLimit.create({
    data: {
      objectId,
      categoryId,
      amount: 15000,
      periodType: 'SEMI_ANNUAL',
      startDate: new Date('2025-01-01'),
      endDate: new Date('2025-06-30'),
      setById: 'YOUR_ADMIN_ID'
    }
  });

  // –ü–æ–ª—É–≥–æ–¥–æ–≤–æ–π –ª–∏–º–∏—Ç (–∏—é–ª—å-–¥–µ–∫–∞–±—Ä—å)
  await prisma.expenseCategoryLimit.create({
    data: {
      objectId,
      categoryId,
      amount: 15000,
      periodType: 'SEMI_ANNUAL',
      startDate: new Date('2025-07-01'),
      endDate: new Date('2025-12-31'),
      setById: 'YOUR_ADMIN_ID'
    }
  });

  console.log('‚úÖ –õ–∏–º–∏—Ç—ã —Å–æ–∑–¥–∞–Ω—ã!');
}

main()
  .catch(console.error)
  .finally(() => prisma.$disconnect());
```

–ó–∞–ø—É—Å—Ç–∏—Ç—å:
```bash
npx ts-node scripts/create-chemistry-limits.ts
```

## üéâ –ò—Ç–æ–≥

‚úÖ **–°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–∏–º–∏—Ç–æ–≤ –¥–ª—è –æ–¥–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏**
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –ª–∏–º–∏—Ç–æ–≤ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ä–∞—Å—Ö–æ–¥–∞**
‚úÖ **API –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**
‚ö†Ô∏è **UI –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–µ—Ä–∏–æ–¥–∞–º–∏**

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –û–±–Ω–æ–≤–∏—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ "–õ–∏–º–∏—Ç" –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ç–∏–ø–∞ –ø–µ—Ä–∏–æ–¥–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API –Ω–∞–ø—Ä—è–º—É—é.
