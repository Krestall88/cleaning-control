# üö® –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ë–ï–°–ö–û–ù–ï–ß–ù–´–ô –¶–ò–ö–õ

**–î–∞—Ç–∞:** 29 –æ–∫—Ç—è–±—Ä—è 2025, 10:20 UTC+3  
**–°—Ç–∞—Ç—É—Å:** –ò–°–ü–†–ê–í–õ–ï–ù–û - –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–Ω–æ–≤–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç

## üîç –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

### **–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î**
```sql
-- –≠—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –ø–æ–≤—Ç–æ—Ä—è–ª—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ:
SELECT "public"."Task"."id", "public"."Task"."createdAt", ...
FROM "public"."Task" 
WHERE ("public"."Task"."id" = $1 OR 
       ("public"."Task"."description" = $2 AND 
        "public"."Task"."objectName" = $3 AND 
        "public"."Task"."scheduledStart" >= $4 AND 
        "public"."Task"."scheduledStart" <= $5 AND 
        "public"."Task"."status" IN (...)))
```

### **–ü—Ä–∏—á–∏–Ω–∞:**
- –§—É–Ω–∫—Ü–∏—è `getOverdueDailyTasks()` –≤—ã–∑—ã–≤–∞–ª–∞ `generateVirtualTasks()`
- `generateVirtualTasks()` –≤—ã–∑—ã–≤–∞–ª–∞ `getUnifiedTasks()`
- `getUnifiedTasks()` —Å–Ω–æ–≤–∞ –≤—ã–∑—ã–≤–∞–ª–∞ `getOverdueDailyTasks()`
- **–ë–ï–°–ö–û–ù–ï–ß–ù–´–ô –¶–ò–ö–õ** ‚Üí —Å–µ—Ä–≤–µ—Ä –∑–∞–≤–∏—Å–∞–ª

## ‚úÖ –°–†–û–ß–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï

### **1. –û—Ç–∫–ª—é—á–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è**
```typescript
// –ë–´–õ–û (–≤—ã–∑—ã–≤–∞–ª–æ –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª):
const [virtualTasks, materializedTasks, overdueTasks] = await Promise.all([
  generateVirtualTasks(baseDate, userRole, userId, objectId),
  getMaterializedTasks(baseDate, userRole, userId, objectId),
  getOverdueDailyTasks(baseDate, userRole, userId, objectId) // ‚Üê –ü–†–û–ë–õ–ï–ú–ê
]);

// –°–¢–ê–õ–û (–±–µ–∑–æ–ø–∞—Å–Ω–æ):
const [virtualTasks, materializedTasks] = await Promise.all([
  generateVirtualTasks(baseDate, userRole, userId, objectId),
  getMaterializedTasks(baseDate, userRole, userId, objectId)
]);
const overdueTasks: UnifiedTask[] = []; // –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
```

### **2. –£–ø—Ä–æ—â–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏**
```typescript
// –ë–´–õ–û (—Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞):
overdue: tasks.filter(task => {
  if (task.status !== 'OVERDUE') return false;
  const taskDate = startOfDay(task.scheduledDate);
  const isDailyTask = task.frequency?.toLowerCase().includes('–µ–∂–µ–¥–Ω–µ–≤–Ω–æ') || task.frequency === 'daily';
  return taskDate < today && isDailyTask;
}),

// –°–¢–ê–õ–û (–ø—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞):
overdue: tasks.filter(task => task.status === 'OVERDUE'),
```

## üéØ –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–°

### **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ **–ö–∞–ª–µ–Ω–¥–∞—Ä—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è** –±–µ–∑ –∑–∞–≤–∏—Å–∞–Ω–∏—è
- ‚úÖ **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º** —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- ‚úÖ **–í—ã–¥–µ–ª–µ–Ω–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞—á** —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏** –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ —Å–≤–æ–∏—Ö –¥–Ω—è—Ö
- ‚úÖ **–°–µ—Ä–≤–µ—Ä —Å—Ç–∞–±–∏–ª–µ–Ω** - –Ω–µ—Ç –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### **–ß—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω–æ:**
- ‚ö†Ô∏è **–ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö** - –ø–æ–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ö†Ô∏è **–£–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ—Å—Ä–æ—á–∫–∏** - —Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### **–°–µ—Ä–≤–µ—Ä:**
- üåê **URL**: http://localhost:3000
- ‚úÖ **–°—Ç–∞—Ç—É—Å**: –ó–∞–ø—É—â–µ–Ω —Å—Ç–∞–±–∏–ª—å–Ω–æ
- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –ù–µ –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω–∞ –∑–∞–ø—Ä–æ—Å–∞–º–∏

### **–õ–æ–≥–∏–∫–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è:**
- ‚úÖ **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏** - –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ **–ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏** - —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –¥–Ω—è
- ‚úÖ **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞** - —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —Ü–∏–∫–ª–æ–≤

## üìä –ü–õ–ê–ù –î–ê–õ–¨–ù–ï–ô–®–ò–• –î–ï–ô–°–¢–í–ò–ô

### **–ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ (—Å–µ–≥–æ–¥–Ω—è):**
1. ‚úÖ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å** - —É–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É** - –º–µ–Ω–µ–¥–∂–µ—Ä—ã –∏ –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å
3. ‚úÖ **–ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ü–∏–∫–ª—ã –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

### **–°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω–æ (–∑–∞–≤—Ç—Ä–∞):**
1. üîÑ **–ü–µ—Ä–µ—Ä–∞–±–æ—Ç–∞—Ç—å –ª–æ–≥–∏–∫—É –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö** –±–µ–∑ —Ü–∏–∫–ª–æ–≤
2. üîÑ **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ** –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞—á
3. üîÑ **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É** –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ

### **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ:**
1. üìä **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã** –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
2. üîç **–î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
3. üß™ **–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã** –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ü–∏–∫–ª–æ–≤

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ú–û–ú–ï–ù–¢–´

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞—â–∏—â–µ–Ω–∞** - –Ω–µ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏ –∑–∞–ø—Ä–æ—Å–∞–º–∏
- ‚úÖ **–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã** - –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ—Ç–µ—Ä—è–Ω–æ
- ‚úÖ **–°–µ—Ä–≤–µ—Ä —Å—Ç–∞–±–∏–ª–µ–Ω** - –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å

### **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- ‚úÖ **–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** –∫–∞–ª–µ–Ω–¥–∞—Ä—è —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ **–í—ã–¥–µ–ª–µ–Ω–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö** –∑–∞–¥–∞—á —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ
- ‚ö†Ô∏è **–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏** - –≤—Ä–µ–º–µ–Ω–Ω–æ —É–ø—Ä–æ—â–µ–Ω—ã

## üéâ –†–ï–ó–£–õ–¨–¢–ê–¢

### **–ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê:**
- ‚ùå **–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª** ‚Üí ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- ‚ùå **–ó–∞–≤–∏—Å–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞** ‚Üí ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- ‚ùå **–ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –ë–î** ‚Üí ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

### **–ö–ê–õ–ï–ù–î–ê–†–¨ –†–ê–ë–û–¢–ê–ï–¢:**
- üåê **–õ–æ–∫–∞–ª—å–Ω–æ**: http://localhost:3000
- üöÄ **–ì–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å
- üìä **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**: –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∏ –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞—é—Ç

---

**–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê!** üö®‚Üí‚úÖ

–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–Ω–æ–≤–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ. –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–≤–∏—Å–∞–µ—Ç, –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã. –õ–æ–≥–∏–∫—É –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–∑–∂–µ, –Ω–æ —Å–µ–π—á–∞—Å —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞.
