const { PrismaClient } = require('@prisma/client');

const prisma = new PrismaClient();

async function createYugServisStructure() {
  try {
    console.log('üèóÔ∏è –°–û–ó–î–ê–ù–ò–ï –°–¢–†–£–ö–¢–£–†–´ –£–ö –Æ–ì-–°–ï–†–í–ò–°');
    console.log('===================================\n');

    // –ù–∞—Ö–æ–¥–∏–º –æ–±—ä–µ–∫—Ç –£–ö –Æ–≥-—Å–µ—Ä–≤–∏—Å
    const yugServisObject = await prisma.cleaningObject.findFirst({
      where: {
        name: {
          contains: '–Æ–≥-—Å–µ—Ä–≤–∏—Å',
          mode: 'insensitive'
        }
      },
      include: {
        manager: { select: { name: true } },
        sites: true
      }
    });

    if (!yugServisObject) {
      console.log('‚ùå –û–±—ä–µ–∫—Ç –£–ö –Æ–≥-—Å–µ—Ä–≤–∏—Å –Ω–µ –Ω–∞–π–¥–µ–Ω');
      return;
    }

    console.log(`‚úÖ –ù–∞–π–¥–µ–Ω –æ–±—ä–µ–∫—Ç: ${yugServisObject.name}`);
    console.log(`üë§ –ú–µ–Ω–µ–¥–∂–µ—Ä: ${yugServisObject.manager?.name}`);

    // –ù–∞—Ö–æ–¥–∏–º –∞–¥–º–∏–Ω–∞ –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
    const admin = await prisma.user.findFirst({
      where: { role: 'ADMIN' }
    });

    // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ —É—á–∞—Å—Ç–∫–∏ (–æ–Ω–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ)
    console.log('\nüóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —É—á–∞—Å—Ç–∫–æ–≤...');
    await prisma.site.deleteMany({
      where: { objectId: yugServisObject.id }
    });

    // –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
    const addressGroups = [
      {
        name: '–ù–∏–∫–æ–ª–∞–µ–≤—Å–∫–∏–π –ø—Ä-—Ç, –¥.33/—É–ª. –ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω—Å–∫–∞—è, –¥.4',
        address: '–°–∞–º–∞—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –í–æ–ª–∂—Å–∫–∏–π —Ä–∞–π–æ–Ω, –º–∫—Ä. ¬´–Æ–∂–Ω—ã–π –≥–æ—Ä–æ–¥¬ª, –º–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–µ –¥–æ–º–∞ 25 –∫–≤–∞—Ä—Ç–∞–ª–∞: –ù–∏–∫–æ–ª–∞–µ–≤—Å–∫–∏–π –ø—Ä-—Ç, –¥.33/—É–ª. –ü—Ä–µ–æ–±—Ä–∞–∂–µ–Ω—Å–∫–∞—è, –¥.4'
      },
      {
        name: '–ù–∏–∫–æ–ª–∞–µ–≤—Å–∫–∏–π –ø—Ä-—Ç, –¥.31; –¥.29',
        address: '–°–∞–º–∞—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –í–æ–ª–∂—Å–∫–∏–π —Ä–∞–π–æ–Ω, –º–∫—Ä. ¬´–Æ–∂–Ω—ã–π –≥–æ—Ä–æ–¥¬ª, –º–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–µ –¥–æ–º–∞ 25 –∫–≤–∞—Ä—Ç–∞–ª–∞: –ù–∏–∫–æ–ª–∞–µ–≤—Å–∫–∏–π –ø—Ä-—Ç, –¥.31; –¥.29'
      },
      {
        name: '—É–ª. –ü–æ–¥—Å—Ç–µ–ø–Ω–æ–≤—Å–∫–∞—è, –¥.20; –¥.18; –¥.16',
        address: '–°–∞–º–∞—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –í–æ–ª–∂—Å–∫–∏–π —Ä–∞–π–æ–Ω, –º–∫—Ä. ¬´–Æ–∂–Ω—ã–π –≥–æ—Ä–æ–¥¬ª, –º–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–µ –¥–æ–º–∞ 25 –∫–≤–∞—Ä—Ç–∞–ª–∞: —É–ª. –ü–æ–¥—Å—Ç–µ–ø–Ω–æ–≤—Å–∫–∞—è, –¥.20; –¥.18; –¥.16'
      },
      {
        name: '—É–ª. –î–º–∏—Ç—Ä–∏—è –î–æ–Ω—Å–∫–æ–≥–æ, –¥.2; –¥.4; –¥.6; –¥.8',
        address: '–°–∞–º–∞—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –í–æ–ª–∂—Å–∫–∏–π —Ä–∞–π–æ–Ω, –º–∫—Ä. ¬´–Æ–∂–Ω—ã–π –≥–æ—Ä–æ–¥¬ª, –º–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–µ –¥–æ–º–∞ 1 –∫–≤–∞—Ä—Ç–∞–ª–∞ 5-–π –æ—á–µ—Ä–µ–¥–∏: —É–ª. –î–º–∏—Ç—Ä–∏—è –î–æ–Ω—Å–∫–æ–≥–æ, –¥.2; –¥.4; –¥.6; –¥.8'
      },
      {
        name: '—É–ª. –ü–æ–¥—Å—Ç–µ–ø–Ω–æ–≤—Å–∫–∞—è, –¥.22',
        address: '–°–∞–º–∞—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –í–æ–ª–∂—Å–∫–∏–π —Ä–∞–π–æ–Ω, –ø–æ—Å–µ–ª–æ–∫ –ü—Ä–∏–¥–æ—Ä–æ–∂–Ω—ã–π, –º–∫—Ä. –Æ–∂–Ω—ã–π –≥–æ—Ä–æ–¥ (26 –∫–≤–∞—Ä—Ç–∞–ª): —É–ª. –ü–æ–¥—Å—Ç–µ–ø–Ω–æ–≤—Å–∫–∞—è, –¥.22'
      },
      {
        name: '—É–ª. –ü–æ–¥—Å—Ç–µ–ø–Ω–æ–≤—Å–∫–∞—è, –¥.24',
        address: '–°–∞–º–∞—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –í–æ–ª–∂—Å–∫–∏–π —Ä–∞–π–æ–Ω, –ø–æ—Å–µ–ª–æ–∫ –ü—Ä–∏–¥–æ—Ä–æ–∂–Ω—ã–π, –º–∫—Ä. –Æ–∂–Ω—ã–π –≥–æ—Ä–æ–¥ (26 –∫–≤–∞—Ä—Ç–∞–ª): —É–ª. –ü–æ–¥—Å—Ç–µ–ø–Ω–æ–≤—Å–∫–∞—è, –¥.24'
      },
      {
        name: '—É–ª. –ü–æ–¥—Å—Ç–µ–ø–Ω–æ–≤—Å–∫–∞—è, –¥.26',
        address: '–°–∞–º–∞—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –í–æ–ª–∂—Å–∫–∏–π —Ä–∞–π–æ–Ω, –ø–æ—Å–µ–ª–æ–∫ –ü—Ä–∏–¥–æ—Ä–æ–∂–Ω—ã–π, –º–∫—Ä. –Æ–∂–Ω—ã–π –≥–æ—Ä–æ–¥ (26 –∫–≤–∞—Ä—Ç–∞–ª): —É–ª. –ü–æ–¥—Å—Ç–µ–ø–Ω–æ–≤—Å–∫–∞—è, –¥.26'
      },
      {
        name: '–ù–∏–∫–æ–ª–∞–µ–≤—Å–∫–∏–π –ø—Ä-—Ç, –¥.37',
        address: '–°–∞–º–∞—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å, –í–æ–ª–∂—Å–∫–∏–π —Ä–∞–π–æ–Ω, –ø–æ—Å–µ–ª–æ–∫ –ü—Ä–∏–¥–æ—Ä–æ–∂–Ω—ã–π, –º–∫—Ä. –Æ–∂–Ω—ã–π –≥–æ—Ä–æ–¥ (26 –∫–≤–∞—Ä—Ç–∞–ª): –ù–∏–∫–æ–ª–∞–µ–≤—Å–∫–∏–π –ø—Ä-—Ç, –¥.37'
      }
    ];

    // –¢–∏–ø—ã –ø–æ–º–µ—â–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–¥—Ä–µ—Å–∞
    const roomTypes = [
      '–ü–æ–ª 1 —ç—Ç–∞–∂–∞',
      '–õ–µ—Å—Ç–Ω–∏—á–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏',
      '–õ–∏—Ñ—Ç–æ–≤—ã–µ –ø–ª–æ—â–∞–¥–∫–∏', 
      '–ö–æ—Ä–∏–¥–æ—Ä—ã –∏ –∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏',
      '–ü–æ–¥–æ–∫–æ–Ω–Ω–∏–∫–∏, –æ–∫–æ–Ω–Ω—ã–µ —Ä–µ—à–µ—Ç–∫–∏, –ø–µ—Ä–∏–ª–∞ –ª–µ—Å—Ç–Ω–∏—Ü',
      '–û–∫–Ω–∞',
      '–ü–æ–ª –∫–∞–±–∏–Ω—ã –ª–∏—Ñ—Ç–∞',
      '–°—Ç–µ–Ω—ã, –¥–≤–µ—Ä–∏, –ø–ª–∞—Ñ–æ–Ω—ã –∏ –ø–æ—Ç–æ–ª–∫–∏ –∫–∞–±–∏–Ω—ã –ª–∏—Ñ—Ç–∞',
      '–ü–æ—Ç–æ–ª–æ–∫',
      '–ö—Ä—ã—à–∫–∏ –ª—é–∫–æ–≤ –∫–æ–ª–æ–¥—Ü–µ–≤ –∏ –ø–æ–∂–∞—Ä–Ω—ã—Ö –≥–∏–¥—Ä–∞–Ω—Ç–æ–≤',
      '–¢—Ä–æ—Ç—É–∞—Ä—ã, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏',
      '–¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è',
      '–£—Ä–Ω—ã',
      '–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏',
      '–ü–ª–æ—â–∞–¥–∫–∏ –ø–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º –≤ –ø–æ–¥—ä–µ–∑–¥—ã',
      '–ì–∞–∑–æ–Ω—ã',
      '–î–µ—Ç—Å–∫–∏–µ, —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏',
      '–†–µ—à–µ—Ç–∫–∏ –¥–æ–∂–¥–µ–ø—Ä–∏–µ–º–Ω–∏–∫–æ–≤'
    ];

    // –¢–µ—Ö–∫–∞—Ä—Ç—ã —Å –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å—é
    const techCardTemplates = [
      { task: '–ú—ã—Ç—å–µ –ø–æ–ª–∞ 1 —ç—Ç–∞–∂–∞', frequency: '5 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é', workType: '–ú—ã—Ç—å–µ', room: '–ü–æ–ª 1 —ç—Ç–∞–∂–∞' },
      { task: '–ú—ã—Ç—å–µ –ª–µ—Å—Ç–Ω–∏—á–Ω—ã—Ö –ø–ª–æ—â–∞–¥–æ–∫', frequency: '4 —Ä–∞–∑–∞ –≤ –º–µ—Å—è—Ü', workType: '–ú—ã—Ç—å–µ', room: '–õ–µ—Å—Ç–Ω–∏—á–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏' },
      { task: '–ú—ã—Ç—å–µ –ª–∏—Ñ—Ç–æ–≤—ã—Ö –ø–ª–æ—â–∞–¥–æ–∫', frequency: '4 —Ä–∞–∑–∞ –≤ –º–µ—Å—è—Ü', workType: '–ú—ã—Ç—å–µ', room: '–õ–∏—Ñ—Ç–æ–≤—ã–µ –ø–ª–æ—â–∞–¥–∫–∏' },
      { task: '–ú—ã—Ç—å–µ –∫–æ—Ä–∏–¥–æ—Ä–æ–≤ –∏ –∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã—Ö –ø–ª–æ—â–∞–¥–æ–∫', frequency: '4 —Ä–∞–∑–∞ –≤ –º–µ—Å—è—Ü', workType: '–ú—ã—Ç—å–µ', room: '–ö–æ—Ä–∏–¥–æ—Ä—ã –∏ –∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏' },
      { task: '–í–ª–∞–∂–Ω–∞—è –ø—Ä–æ—Ç–∏—Ä–∫–∞ –ø–æ–¥–æ–∫–æ–Ω–Ω–∏–∫–æ–≤, –æ–∫–æ–Ω–Ω—ã—Ö —Ä–µ—à–µ—Ç–æ–∫, –ø–µ—Ä–∏–ª –ª–µ—Å—Ç–Ω–∏—Ü, —à–∫–∞—Ñ–æ–≤ –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ—Å—á–µ—Ç—á–∏–∫–æ–≤ —Å–ª–∞–±–æ—Ç–æ—á–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤, –ø–æ—á—Ç–æ–≤—ã—Ö —è—â–∏–∫–æ–≤', frequency: '1 —Ä–∞–∑ –≤ –º–µ—Å—è—Ü', workType: '–ü—Ä–æ—Ç–∏—Ä–∫–∞', room: '–ü–æ–¥–æ–∫–æ–Ω–Ω–∏–∫–∏, –æ–∫–æ–Ω–Ω—ã–µ —Ä–µ—à–µ—Ç–∫–∏, –ø–µ—Ä–∏–ª–∞ –ª–µ—Å—Ç–Ω–∏—Ü' },
      { task: '–ú—ã—Ç—å–µ –æ–∫–æ–Ω (–æ—Ç–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è —Ñ—Ä–∞–º—É–≥–∏ ‚Äì —Å 2-—Ö —Å—Ç–æ—Ä–æ–Ω, –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è ‚Äì –∏–∑–Ω—É—Ç—Ä–∏)', frequency: '2 —Ä–∞–∑–∞ –≤ –≥–æ–¥', workType: '–ú—ã—Ç—å–µ', room: '–û–∫–Ω–∞' },
      { task: '–ú—ã—Ç—å–µ –ø–æ–ª–∞ –∫–∞–±–∏–Ω—ã –ª–∏—Ñ—Ç–∞', frequency: '5 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é', workType: '–ú—ã—Ç—å–µ', room: '–ü–æ–ª –∫–∞–±–∏–Ω—ã –ª–∏—Ñ—Ç–∞' },
      { task: '–í–ª–∞–∂–Ω–∞—è –ø—Ä–æ—Ç–∏—Ä–∫–∞ —Å—Ç–µ–Ω, –¥–≤–µ—Ä–µ–π, –ø–ª–∞—Ñ–æ–Ω–æ–≤ –∏ –ø–æ—Ç–æ–ª–∫–æ–≤ –∫–∞–±–∏–Ω—ã –ª–∏—Ñ—Ç–∞', frequency: '1 —Ä–∞–∑ –≤ –º–µ—Å—è—Ü', workType: '–ü—Ä–æ—Ç–∏—Ä–∫–∞', room: '–°—Ç–µ–Ω—ã, –¥–≤–µ—Ä–∏, –ø–ª–∞—Ñ–æ–Ω—ã –∏ –ø–æ—Ç–æ–ª–∫–∏ –∫–∞–±–∏–Ω—ã –ª–∏—Ñ—Ç–∞' },
      { task: '–û–±–º–µ—Ç–∞–Ω–∏–µ –ø—ã–ª–∏ —Å –ø–æ—Ç–æ–ª–∫–∞', frequency: '1 —Ä–∞–∑ –≤ –≥–æ–¥', workType: '–û–±–º–µ—Ç–∞–Ω–∏–µ', room: '–ü–æ—Ç–æ–ª–æ–∫' },
      { task: '–û—á–∏—Å—Ç–∫–∞ –∫—Ä—ã—à–µ–∫ –ª—é–∫–æ–≤ –∫–æ–ª–æ–¥—Ü–µ–≤ –∏ –ø–æ–∂–∞—Ä–Ω—ã—Ö –≥–∏–¥—Ä–∞–Ω—Ç–æ–≤ –æ—Ç —Å–Ω–µ–≥–∞ –∏ –ª—å–¥–∞ —Ç–æ–ª—â–∏–Ω–æ–π —Å–ª–æ—è –≤—ã—à–µ 5 —Å–º', frequency: '–ü–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –Ω–æ –Ω–µ —Ä–µ–∂–µ 1 —Ä–∞–∑–∞ –≤ 2 —Å—É—Ç–æ–∫', workType: '–û—á–∏—Å—Ç–∫–∞', room: '–ö—Ä—ã—à–∫–∏ –ª—é–∫–æ–≤ –∫–æ–ª–æ–¥—Ü–µ–≤ –∏ –ø–æ–∂–∞—Ä–Ω—ã—Ö –≥–∏–¥—Ä–∞–Ω—Ç–æ–≤', period: '–ó–ò–ú–ù–ò–ô –ü–ï–†–ò–û–î (—Å 01 —Å–µ–Ω—Ç—è–±—Ä—è –ø–æ 30 –∞–ø—Ä–µ–ª—è)' },
      { task: '–°–¥–≤–∏–≥–∞–Ω–∏–µ —Å–≤–µ–∂–µ–≤—ã–ø–∞–≤—à–µ–≥–æ —Å–Ω–µ–≥–∞ —Å —Ç—Ä–æ—Ç—É–∞—Ä–æ–≤, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã—Ö –ø–ª–æ—â–∞–¥–æ–∫, –∏–≥—Ä–æ–≤—ã—Ö –ø–ª–æ—â–∞–¥–æ–∫, –ø–ª–æ—â–∞–¥–æ–∫ –¥–ª—è –æ—Ç–¥—ã—Ö–∞', frequency: '–ü–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –Ω–æ –Ω–µ –ø–æ–∑–¥–Ω–µ–µ —á–µ–º —á–µ—Ä–µ–∑ 3 —á–∞—Å–∞ –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å–Ω–µ–≥–æ–ø–∞–¥–∞', workType: '–£–±–æ—Ä–∫–∞ —Å–Ω–µ–≥–∞', room: '–¢—Ä–æ—Ç—É–∞—Ä—ã, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏', period: '–ó–ò–ú–ù–ò–ô –ü–ï–†–ò–û–î (—Å 01 —Å–µ–Ω—Ç—è–±—Ä—è –ø–æ 30 –∞–ø—Ä–µ–ª—è)' },
      { task: '–û—á–∏—Å—Ç–∫–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –æ—Ç —Å–Ω–µ–≥–∞ –Ω–∞–Ω–æ—Å–Ω–æ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏—è (–∏–ª–∏ –ø–æ–¥–º–µ—Ç–∞–Ω–∏–µ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–π, —Å–≤–æ–±–æ–¥–Ω—ã—Ö –æ—Ç —Å–Ω–µ–∂–Ω–æ–≥–æ –ø–æ–∫—Ä–æ–≤–∞)', frequency: '–ü–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –Ω–æ –Ω–µ —Ä–µ–∂–µ 1 —Ä–∞–∑–∞ –≤ 2 —Å—É—Ç–æ–∫ –≤ –¥–Ω–∏ –±–µ–∑ —Å–Ω–µ–≥–æ–ø–∞–¥–∞', workType: '–û—á–∏—Å—Ç–∫–∞', room: '–¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è', period: '–ó–ò–ú–ù–ò–ô –ü–ï–†–ò–û–î (—Å 01 —Å–µ–Ω—Ç—è–±—Ä—è –ø–æ 30 –∞–ø—Ä–µ–ª—è)' },
      { task: '–ü–æ—Å—ã–ø–∫–∞ —Ç—Ä–æ—Ç—É–∞—Ä–æ–≤ –ø—Ä–æ—Ç–∏–≤–æ–≥–æ–ª–æ–ª–µ–¥–Ω—ã–º–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ (–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ó–∞–∫–∞–∑—á–∏–∫)', frequency: '1 —Ä–∞–∑ –≤ –¥–µ–Ω—å –≤–æ –≤—Ä–µ–º—è –≥–æ–ª–æ–ª–µ–¥–∞ –∏–ª–∏ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏', workType: '–ü–æ—Å—ã–ø–∫–∞', room: '–¢—Ä–æ—Ç—É–∞—Ä—ã, –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏', period: '–ó–ò–ú–ù–ò–ô –ü–ï–†–ò–û–î (—Å 01 —Å–µ–Ω—Ç—è–±—Ä—è –ø–æ 30 –∞–ø—Ä–µ–ª—è)' },
      { task: '–û—á–∏—Å—Ç–∫–∞ —É—Ä–Ω –æ—Ç –º—É—Å–æ—Ä–∞', frequency: '–ü–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –Ω–æ –Ω–µ —Ä–µ–∂–µ 1 —Ä–∞–∑–∞ –≤ 2 —Å—É—Ç–æ–∫', workType: '–û—á–∏—Å—Ç–∫–∞', room: '–£—Ä–Ω—ã', period: '–ó–ò–ú–ù–ò–ô –ü–ï–†–ò–û–î (—Å 01 —Å–µ–Ω—Ç—è–±—Ä—è –ø–æ 30 –∞–ø—Ä–µ–ª—è)' },
      { task: '–£–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã—Ö –ø–ª–æ—â–∞–¥–æ–∫', frequency: '2 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å', workType: '–£–±–æ—Ä–∫–∞', room: '–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏', period: '–ó–ò–ú–ù–ò–ô –ü–ï–†–ò–û–î (—Å 01 —Å–µ–Ω—Ç—è–±—Ä—è –ø–æ 30 –∞–ø—Ä–µ–ª—è)' },
      { task: '–£–±–æ—Ä–∫–∞ –º—É—Å–æ—Ä–∞ –Ω–∞ –ø–ª–æ—â–∞–¥–∫–∞—Ö –ø–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º –≤ –ø–æ–¥—ä–µ–∑–¥—ã', frequency: '2 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å', workType: '–£–±–æ—Ä–∫–∞', room: '–ü–ª–æ—â–∞–¥–∫–∏ –ø–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º –≤ –ø–æ–¥—ä–µ–∑–¥—ã', period: '–ó–ò–ú–ù–ò–ô –ü–ï–†–ò–û–î (—Å 01 —Å–µ–Ω—Ç—è–±—Ä—è –ø–æ 30 –∞–ø—Ä–µ–ª—è)' },
      { task: '–ü–æ–¥–º–µ—Ç–∞–Ω–∏–µ –∏ —á–∞—Å—Ç–∏—á–Ω–∞—è —É–±–æ—Ä–∫–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏', frequency: '5 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é', workType: '–ü–æ–¥–º–µ—Ç–∞–Ω–∏–µ', room: '–¢–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è', period: '–õ–ï–¢–ù–ò–ô –ü–ï–†–ò–û–î (—Å 01 –º–∞—è –ø–æ 31 –∞–≤–≥—É—Å—Ç–∞)' },
      { task: '–û—á–∏—Å—Ç–∫–∞ –æ—Ç –º—É—Å–æ—Ä–∞ –∏ –ø—Ä–æ–º—ã–≤–∫–∞ —É—Ä–Ω, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –≤–æ–∑–ª–µ –ø–æ–¥—ä–µ–∑–¥–æ–≤', frequency: '5 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é (–ø—Ä–æ–º—ã–≤–∫–∞- 1 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é)', workType: '–û—á–∏—Å—Ç–∫–∞', room: '–£—Ä–Ω—ã', period: '–õ–ï–¢–ù–ò–ô –ü–ï–†–ò–û–î (—Å 01 –º–∞—è –ø–æ 31 –∞–≤–≥—É—Å—Ç–∞)' },
      { task: '–£–±–æ—Ä–∫–∞ –≥–∞–∑–æ–Ω–æ–≤', frequency: '5 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é', workType: '–£–±–æ—Ä–∫–∞', room: '–ì–∞–∑–æ–Ω—ã', period: '–õ–ï–¢–ù–ò–ô –ü–ï–†–ò–û–î (—Å 01 –º–∞—è –ø–æ 31 –∞–≤–≥—É—Å—Ç–∞)' },
      { task: '–ü–æ–ª–∏–≤ –≥–∞–∑–æ–Ω–æ–≤, –∫—É—Å—Ç–∞—Ä–Ω–∏–∫–æ–≤ –∏ –¥–µ—Ä–µ–≤—å–µ–≤', frequency: '–ü–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, –Ω–æ –Ω–µ —Ä–µ–∂–µ —á–µ–º 1 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é', workType: '–ü–æ–ª–∏–≤', room: '–ì–∞–∑–æ–Ω—ã', period: '–õ–ï–¢–ù–ò–ô –ü–ï–†–ò–û–î (—Å 01 –º–∞—è –ø–æ 31 –∞–≤–≥—É—Å—Ç–∞)' },
      { task: '–í—ã–∫–∞—à–∏–≤–∞–Ω–∏–µ –≥–∞–∑–æ–Ω–æ–≤ (–ø—Ä–∏ –≤—ã—Å–æ—Ç–µ —Ä–∞—Å—Ç–µ–Ω–∏–π –±–æ–ª–µ–µ 20 —Å–º)', frequency: '–ü–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏', workType: '–í—ã–∫–∞—à–∏–≤–∞–Ω–∏–µ', room: '–ì–∞–∑–æ–Ω—ã', period: '–õ–ï–¢–ù–ò–ô –ü–ï–†–ò–û–î (—Å 01 –º–∞—è –ø–æ 31 –∞–≤–≥—É—Å—Ç–∞)' },
      { task: '–£–±–æ—Ä–∫–∞ –¥–µ—Ç—Å–∫–∏—Ö, —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö –∏ —Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–ª–æ—â–∞–¥–æ–∫ –∏ –ø–ª–æ—â–∞–¥–æ–∫ –¥–ª—è –æ—Ç–¥—ã—Ö–∞', frequency: '5 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é', workType: '–£–±–æ—Ä–∫–∞', room: '–î–µ—Ç—Å–∫–∏–µ, —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏', period: '–õ–ï–¢–ù–ò–ô –ü–ï–†–ò–û–î (—Å 01 –º–∞—è –ø–æ 31 –∞–≤–≥—É—Å—Ç–∞)' },
      { task: '–ü—Ä–æ—á–∏—Å—Ç–∫–∞ —Ä–µ—à–µ—Ç–æ–∫ –¥–æ–∂–¥–µ–ø—Ä–∏–µ–º–Ω–∏–∫–æ–≤ –ª–∏–≤–Ω–µ–≤–æ–π –∫–∞–Ω–∞–ª–∏–∑–∞—Ü–∏–∏', frequency: '1 —Ä–∞–∑ –≤ –º–µ—Å—è—Ü', workType: '–ü—Ä–æ—á–∏—Å—Ç–∫–∞', room: '–†–µ—à–µ—Ç–∫–∏ –¥–æ–∂–¥–µ–ø—Ä–∏–µ–º–Ω–∏–∫–æ–≤', period: '–õ–ï–¢–ù–ò–ô –ü–ï–†–ò–û–î (—Å 01 –º–∞—è –ø–æ 31 –∞–≤–≥—É—Å—Ç–∞)' },
      { task: '–£–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã—Ö –ø–ª–æ—â–∞–¥–æ–∫', frequency: '2 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å', workType: '–£–±–æ—Ä–∫–∞', room: '–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–µ –ø–ª–æ—â–∞–¥–∫–∏', period: '–õ–ï–¢–ù–ò–ô –ü–ï–†–ò–û–î (—Å 01 –º–∞—è –ø–æ 31 –∞–≤–≥—É—Å—Ç–∞)' },
      { task: '–£–±–æ—Ä–∫–∞ –ø–ª–æ—â–∞–¥–∏ –ø–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º –≤ –ø–æ–¥—ä–µ–∑–¥, –æ—á–∏—Å—Ç–∫–∞ –º–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–æ–π —Ä–µ—à–µ—Ç–∫–∏ –∏ –ø—Ä–∏—è–º–∫–∞', frequency: '5 —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é', workType: '–£–±–æ—Ä–∫–∞', room: '–ü–ª–æ—â–∞–¥–∫–∏ –ø–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º –≤ –ø–æ–¥—ä–µ–∑–¥—ã', period: '–õ–ï–¢–ù–ò–ô –ü–ï–†–ò–û–î (—Å 01 –º–∞—è –ø–æ 31 –∞–≤–≥—É—Å—Ç–∞)' }
    ];

    let totalSites = 0;
    let totalZones = 0;
    let totalRoomGroups = 0;
    let totalRooms = 0;
    let totalTechCards = 0;

    console.log('\nüèóÔ∏è –°–û–ó–î–ê–ù–ò–ï –°–¢–†–£–ö–¢–£–†–´:');
    console.log('='.repeat(30));

    // –°–æ–∑–¥–∞–µ–º —É—á–∞—Å—Ç–∫–∏ –ø–æ –∞–¥—Ä–µ—Å–∞–º
    for (const addressGroup of addressGroups) {
      console.log(`\nüìç –°–æ–∑–¥–∞–Ω–∏–µ —É—á–∞—Å—Ç–∫–∞: ${addressGroup.name}`);
      
      // –°–æ–∑–¥–∞–µ–º —É—á–∞—Å—Ç–æ–∫
      const site = await prisma.site.create({
        data: {
          name: addressGroup.name,
          description: `–ú–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–µ –¥–æ–º–∞ –ø–æ –∞–¥—Ä–µ—Å—É: ${addressGroup.address}`,
          area: 1000, // –ü—Ä–∏–º–µ—Ä–Ω–∞—è –ø–ª–æ—â–∞–¥—å
          objectId: yugServisObject.id,
          managerId: yugServisObject.managerId
        }
      });

      totalSites++;
      console.log(`   ‚úÖ –£—á–∞—Å—Ç–æ–∫ —Å–æ–∑–¥–∞–Ω`);

      // –°–æ–∑–¥–∞–µ–º –∑–æ–Ω—É "–º–µ—Å—Ç–∞ –æ–±—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–∏–¥–æ–º–æ–≤—ã–µ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏"
      const zone = await prisma.zone.create({
        data: {
          name: '–º–µ—Å—Ç–∞ –æ–±—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–∏–¥–æ–º–æ–≤—ã–µ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏',
          description: '–û–±—â–∏–µ –∑–æ–Ω—ã –¥–æ–º–∞ –∏ –ø—Ä–∏–ª–µ–≥–∞—é—â–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è',
          area: 800,
          siteId: site.id
        }
      });

      totalZones++;
      console.log(`   üè† –ó–æ–Ω–∞ —Å–æ–∑–¥–∞–Ω–∞`);

      // –°–æ–∑–¥–∞–µ–º –≥—Ä—É–ø–ø—É –ø–æ–º–µ—â–µ–Ω–∏–π
      const roomGroup = await prisma.roomGroup.create({
        data: {
          name: '–ü–æ–º–µ—â–µ–Ω–∏—è –∏ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –¥–ª—è —É–±–æ—Ä–∫–∏',
          description: '–í—Å–µ –ø–æ–º–µ—â–µ–Ω–∏—è –∏ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏, —Ç—Ä–µ–±—É—é—â–∏–µ —É–±–æ—Ä–∫–∏',
          area: 800,
          zoneId: zone.id
        }
      });

      totalRoomGroups++;
      console.log(`   üì¶ –ì—Ä—É–ø–ø–∞ –ø–æ–º–µ—â–µ–Ω–∏–π —Å–æ–∑–¥–∞–Ω–∞`);

      // –°–æ–∑–¥–∞–µ–º –ø–æ–º–µ—â–µ–Ω–∏—è
      for (const roomType of roomTypes) {
        const room = await prisma.room.create({
          data: {
            name: roomType,
            description: `–ü–æ–º–µ—â–µ–Ω–∏–µ/—Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è: ${roomType}`,
            area: Math.floor(Math.random() * 50) + 10, // –°–ª—É—á–∞–π–Ω–∞—è –ø–ª–æ—â–∞–¥—å –æ—Ç 10 –¥–æ 60
            objectId: yugServisObject.id,
            roomGroupId: roomGroup.id
          }
        });

        totalRooms++;

        // –°–æ–∑–¥–∞–µ–º —Ç–µ—Ö–∫–∞—Ä—Ç—ã –¥–ª—è —ç—Ç–æ–≥–æ –ø–æ–º–µ—â–µ–Ω–∏—è
        const relevantTechCards = techCardTemplates.filter(tc => tc.room === roomType);
        
        for (const techCardTemplate of relevantTechCards) {
          const techCard = await prisma.techCard.create({
            data: {
              name: techCardTemplate.task,
              workType: techCardTemplate.workType,
              frequency: techCardTemplate.frequency,
              description: techCardTemplate.task,
              period: techCardTemplate.period || '–û–±—â–∏–π',
              seasonality: techCardTemplate.period || '–û–±—â–∏–π',
              objectId: yugServisObject.id,
              roomId: room.id
            }
          });

          totalTechCards++;
        }
      }

      console.log(`   üö™ –°–æ–∑–¥–∞–Ω–æ –ø–æ–º–µ—â–µ–Ω–∏–π: ${roomTypes.length}`);
      console.log(`   üîß –°–æ–∑–¥–∞–Ω–æ —Ç–µ—Ö–∫–∞—Ä—Ç –¥–ª—è —É—á–∞—Å—Ç–∫–∞: ${techCardTemplates.filter(tc => roomTypes.includes(tc.room)).length}`);

      // –õ–æ–≥–∏—Ä—É–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ —É—á–∞—Å—Ç–∫–∞
      if (admin) {
        await prisma.auditLog.create({
          data: {
            userId: admin.id,
            action: 'CREATE_SITE_STRUCTURE',
            entity: 'SITE',
            entityId: site.id,
            details: `–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è —É—á–∞—Å—Ç–∫–∞ ${site.name} –æ–±—ä–µ–∫—Ç–∞ ${yugServisObject.name}`
          }
        });
      }
    }

    console.log('\nüìä –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê:');
    console.log('='.repeat(30));
    console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–æ —É—á–∞—Å—Ç–∫–æ–≤: ${totalSites}`);
    console.log(`üè† –°–æ–∑–¥–∞–Ω–æ –∑–æ–Ω: ${totalZones}`);
    console.log(`üì¶ –°–æ–∑–¥–∞–Ω–æ –≥—Ä—É–ø–ø –ø–æ–º–µ—â–µ–Ω–∏–π: ${totalRoomGroups}`);
    console.log(`üö™ –°–æ–∑–¥–∞–Ω–æ –ø–æ–º–µ—â–µ–Ω–∏–π: ${totalRooms}`);
    console.log(`üîß –°–æ–∑–¥–∞–Ω–æ —Ç–µ—Ö–∫–∞—Ä—Ç: ${totalTechCards}`);

    console.log('\nüéâ –°–¢–†–£–ö–¢–£–†–ê –£–ö –Æ–ì-–°–ï–†–í–ò–° –°–û–ó–î–ê–ù–ê –£–°–ü–ï–®–ù–û!');
    console.log('‚úÖ –í—Å–µ —É—á–∞—Å—Ç–∫–∏ —Å–æ–∑–¥–∞–Ω—ã –ø–æ –∞–¥—Ä–µ—Å–∞–º');
    console.log('‚úÖ –ó–æ–Ω—ã –∏ –≥—Ä—É–ø–ø—ã –ø–æ–º–µ—â–µ–Ω–∏–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã');
    console.log('‚úÖ –ü–æ–º–µ—â–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω—ã –ø–æ —Ç–∏–ø–∞–º —Ä–∞–±–æ—Ç');
    console.log('‚úÖ –¢–µ—Ö–∫–∞—Ä—Ç—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –ø–æ–º–µ—â–µ–Ω–∏—è–º');
    console.log('‚úÖ –£—á—Ç–µ–Ω—ã —Å–µ–∑–æ–Ω–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç');

  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞:', error);
  } finally {
    await prisma.$disconnect();
  }
}

createYugServisStructure();
