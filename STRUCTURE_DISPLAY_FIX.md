# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–µ—Ö–∑–∞–¥–∞–Ω–∏–π

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. üö´ –û—à–∏–±–∫–∞ 404 –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —Ç–µ—Ö–∑–∞–¥–∞–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:**
```
POST http://localhost:3000/api/tech-cards 404 (Not Found)
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π URL API endpoint.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```typescript
// –ë—ã–ª–æ
const url = isEdit ? `/api/tech-cards/${techTask!.id}` : '/api/tech-cards';

// –°—Ç–∞–ª–æ
const url = isEdit ? `/api/techcards/${techTask!.id}` : '/api/techcards';
```

**–§–∞–π–ª:** `src/components/TechTaskModal.tsx`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ‚úÖ –¢–µ—Ö–∑–∞–¥–∞–Ω–∏—è —Ç–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!

---

### 2. üëÅÔ∏è –ù–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —É—á–∞—Å—Ç–∫–æ–≤, –∑–æ–Ω, –≥—Ä—É–ø–ø –∏–ª–∏ –ø–æ–º–µ—â–µ–Ω–∏–π –æ–Ω–∏ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞.

**–ü—Ä–∏—á–∏–Ω–∞:** –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î (–Ω–µ –∏—Å—á–µ–∑–∞—é—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏), –Ω–æ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ UI –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

#### A. –î–æ–±–∞–≤–ª–µ–Ω –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π –≤—ã–≤–æ–¥
```typescript
const loadObjectData = async () => {
  setLoading(true);
  try {
    const response = await fetch(`/api/objects/${objectId}`);
    if (response.ok) {
      const data = await response.json();
      console.log('üîÑ ObjectEditModal: –ó–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç–∞:', data);
      console.log('üè≠ –£—á–∞—Å—Ç–∫–æ–≤:', data.sites?.length || 0);
      console.log('üè† –ü–æ–º–µ—â–µ–Ω–∏–π:', data.rooms?.length || 0);
      setObject(data);
    }
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ–±—ä–µ–∫—Ç–∞:', error);
  } finally {
    setLoading(false);
  }
};
```

#### B. –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ø—É—Å—Ç–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
```tsx
{!object.sites || object.sites.length === 0 ? (
  <div className="text-center py-8 text-gray-500">
    <p>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—ä–µ–∫—Ç–∞ –ø—É—Å—Ç–∞</p>
    <p className="text-sm mt-2">–ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–æ–∫" –¥–ª—è –Ω–∞—á–∞–ª–∞</p>
  </div>
) : (
  object.sites.map((site) => (
    // ... –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —É—á–∞—Å—Ç–∫–æ–≤
  ))
)}
```

**–§–∞–π–ª:** `src/components/ObjectEditModal.tsx`

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã

### –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —É—á–∞—Å—Ç–æ–∫/–∑–æ–Ω—É/–≥—Ä—É–ø–ø—É/–ø–æ–º–µ—â–µ–Ω–∏–µ
3. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
4. –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –ø–æ—è–≤–∏–ª—Å—è –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è ‚Üí –¥–∞–Ω–Ω—ã–µ –≤ –ë–î –µ—Å—Ç—å, –ø—Ä–æ–±–ª–µ–º–∞ –≤ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ UI
5. –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –ø–æ—è–≤–∏–ª—Å—è ‚Üí –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –≤ –ë–î

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å:

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ –∫–æ–Ω—Å–æ–ª–∏ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
```
üîÑ ObjectEditModal: –ó–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç–∞: {...}
üè≠ –£—á–∞—Å—Ç–∫–æ–≤: 2
üè† –ü–æ–º–µ—â–µ–Ω–∏–π: 11
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ—Ö–∑–∞–¥–∞–Ω–∏—è
1. –û—Ç–∫—Ä—ã—Ç—å –æ–±—ä–µ–∫—Ç ‚Üí –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å ‚Üí –¢–µ—Ö–∑–∞–¥–∞–Ω–∏—è
2. –ù–∞–∂–∞—Ç—å "–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Ö–∑–∞–¥–∞–Ω–∏–µ"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É:
   - –ù–∞–∑–≤–∞–Ω–∏–µ: "–¢–µ—Å—Ç–æ–≤–æ–µ —Ç–µ—Ö–∑–∞–¥–∞–Ω–∏–µ"
   - –¢–∏–ø —Ä–∞–±–æ—Ç: "–£–±–æ—Ä–∫–∞"
   - –ß–∞—Å—Ç–æ—Ç–∞: "–ï–∂–µ–¥–Ω–µ–≤–Ω–æ"
4. –ù–∞–∂–∞—Ç—å "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
5. ‚úÖ –¢–µ—Ö–∑–∞–¥–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–∫–∏ 404

### –¢–µ—Å—Ç 2: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
1. –û—Ç–∫—Ä—ã—Ç—å –æ–±—ä–µ–∫—Ç ‚Üí –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å ‚Üí –°—Ç—Ä—É–∫—Ç—É—Ä–∞
2. –ù–∞–∂–∞—Ç—å "–î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–æ–∫"
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É:
   - –ù–∞–∑–≤–∞–Ω–∏–µ: "–¢–µ—Å—Ç–æ–≤—ã–π —É—á–∞—Å—Ç–æ–∫"
4. –ù–∞–∂–∞—Ç—å "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
5. ‚úÖ –£—á–∞—Å—Ç–æ–∫ –¥–æ–ª–∂–µ–Ω —Å—Ä–∞–∑—É –ø–æ—è–≤–∏—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫–µ
6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å:
   ```
   üîÑ ObjectEditModal: –ó–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç–∞: {...}
   üè≠ –£—á–∞—Å—Ç–∫–æ–≤: 1
   ```

### –¢–µ—Å—Ç 3: –°–æ–∑–¥–∞–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
1. –°–æ–∑–¥–∞—Ç—å —É—á–∞—Å—Ç–æ–∫
2. –£ —É—á–∞—Å—Ç–∫–∞ –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "+" (–î–æ–±–∞–≤–∏—Ç—å –∑–æ–Ω—É)
3. –°–æ–∑–¥–∞—Ç—å –∑–æ–Ω—É
4. ‚úÖ –ó–æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –ø–æ–¥ —É—á–∞—Å—Ç–∫–æ–º
5. –£ –∑–æ–Ω—ã –Ω–∞–∂–∞—Ç—å "+" (–î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø—É)
6. –°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É –ø–æ–º–µ—â–µ–Ω–∏–π
7. ‚úÖ –ì—Ä—É–ø–ø–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –ø–æ–¥ –∑–æ–Ω–æ–π
8. –£ –≥—Ä—É–ø–ø—ã –Ω–∞–∂–∞—Ç—å "+" (–î–æ–±–∞–≤–∏—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ)
9. –°–æ–∑–¥–∞—Ç—å –ø–æ–º–µ—â–µ–Ω–∏–µ
10. ‚úÖ –ü–æ–º–µ—â–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –ø–æ–¥ –≥—Ä—É–ø–ø–æ–π

---

## üêõ –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API endpoint:

1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network
2. –°–æ–∑–¥–∞–π—Ç–µ —ç–ª–µ–º–µ–Ω—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
3. –ù–∞–π–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –∫ API (–Ω–∞–ø—Ä–∏–º–µ—Ä, `/api/sites`)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
   - –°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 200 –∏–ª–∏ 201)
   - –¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ (–¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å—Å—è —Å–æ–∑–¥–∞–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç)

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö:

1. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å
2. –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—Ä–æ—Å –∫ `/api/objects/[id]`
3. –í –æ—Ç–≤–µ—Ç–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å `sites` —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ `zones`, `roomGroups`, `rooms`

### –ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ API:
```json
{
  "id": "obj_123",
  "name": "–¢–µ—Å—Ç–æ–≤—ã–π –æ–±—ä–µ–∫—Ç",
  "sites": [
    {
      "id": "site_456",
      "name": "–£—á–∞—Å—Ç–æ–∫ 1",
      "zones": [
        {
          "id": "zone_789",
          "name": "–ó–æ–Ω–∞ 1",
          "roomGroups": [
            {
              "id": "group_012",
              "name": "–ì—Ä—É–ø–ø–∞ 1",
              "rooms": [
                {
                  "id": "room_345",
                  "name": "–ü–æ–º–µ—â–µ–Ω–∏–µ 1"
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  "rooms": []
}
```

---

## üìù –ò—Ç–æ–≥–∏

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ URL API –¥–ª—è —Ç–µ—Ö–∑–∞–¥–∞–Ω–∏–π (`/api/tech-cards` ‚Üí `/api/techcards`)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π –≤—ã–≤–æ–¥ –≤ `ObjectEditModal`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ø—É—Å—Ç–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã—Ç–∏–µ–º –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

**–¢–µ–ø–µ—Ä—å:**
- ‚úÖ –¢–µ—Ö–∑–∞–¥–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- ‚úÖ –ù–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
- ‚úÖ –ú–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏ —Å–æ–æ–±—â–∏—Ç–µ, –µ—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è!** üéâ
